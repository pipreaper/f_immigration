/*!
 * Copyright (c) Nationwide Building Society 2011. All rights reserved.
 */
(function($){function returnFalse(){return!1}var types={numeric:"numeric",text:"text"};$.tablesorter.addParser({id:"dateTime-simple",is:returnFalse,format:function(s){return Date.parse(s)},type:types.numeric});$.tablesorter.addParser({id:"dateTime-fullMonth",is:returnFalse,format:function(s){return s="01 "+s,Date.parse(s)},type:types.numeric});$.tablesorter.addParser({id:"dateTime-complex",is:returnFalse,format:function(s){var date=s.replace(/\sat\s/,"/"),dateStr=date.split("/"),hoursMins=dateStr[3].split(":");return new Date(dateStr[2],dateStr[1]-1,dateStr[0],hoursMins[0],hoursMins[1])},type:types.numeric});$.tablesorter.addParser({id:"dateTime-messages",is:returnFalse,format:function(s){var thisYear=(new Date).getYear(),thisCentury=100*Math.floor(thisYear/100),year=1900,month=0,date=1,hour=0,min=0,m=s.match(/\d\d\/\d\d\/\d\d/),dateParts,timeParts;return m!=null&&(dateParts=m[0].split("/"),year=thisCentury+parseInt(dateParts[2]),year-thisYear>50&&(year-=100),thisYear-year>=50&&(year+=100),month=dateParts[1]-1,date=dateParts[0]),m=s.match(/\d\d:\d\d/),m!=null&&(timeParts=m[0].split(":"),hour=timeParts[0],min=timeParts[1]),new Date(year,month,date,hour,min)},type:types.numeric});$.tablesorter.addParser({id:"plusminusParser",is:returnFalse,format:function(s){return s?$.trim(s):""},type:types.text});$.tablesorter.addParser({id:"curr",is:returnFalse,format:function(c){return parseFloat(c.substr(1))},type:types.numeric});$.tablesorter.addParser({id:"term",is:returnFalse,format:function(s){var defaultValue=-22090752e5,match=/^(\d+)\s*(days?|years?|months?)$/i.exec(s);if(match)switch(match[2]){case"day":case"days":return new Date(0,0,match[1]).getTime();case"month":case"months":return new Date(0,match[1],0).getTime();case"year":case"years":return new Date(match[1],0,0).getTime();default:return defaultValue}return defaultValue},type:types.numeric});$.tablesorter.addParser({id:"transaction-sequence",is:returnFalse,format:function(s){var trimmed=$.trim(s),dateWithSequenceNo=trimmed.replace(new RegExp("<.*?>","g"),"").split("-"),date=new Date($.trim(dateWithSequenceNo[0])),sequenceNo=$.trim(dateWithSequenceNo[1]);return new Date(date.setMilliseconds(sequenceNo))},type:types.numeric})})(jQuery)