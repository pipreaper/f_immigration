(function($){$.toFixedWidth=function(value,length,fill){var result=value.toString(),padding=length-result.length,n;if(fill=fill||"0",padding<0)result=result.substr(-padding);else for(n=0;n<padding;n++)result=fill+result;return result};$.date={};$.date.parse=function(value){var m,regex,match;if(Object.prototype.toString.call(value)==="[object Date]")return value;if(typeof value=="number")return new Date(value*1e3);if(typeof value=="string"){if(m=value.match(/\/Date\((-?\d+)\)\//))return new Date(parseInt(m[1],10));if(value.match(/^(-?\d+)$/))return new Date(parseInt(value,10)*1e3);if(regex=/^(\d{2})\/(\d{2})\/(\d{4})$/,match=regex.exec(value.substring(0,10)),match)return new Date(match[3],match[2]-1,match[1])}return null};$.date.format=function(date,pattern){for(var result=[],matched;pattern.length>0;)$.date.format.patternParts.lastIndex=0,matched=$.date.format.patternParts.exec(pattern),matched?(result.push($.date.format.patternValues[matched[0]].call(this,date)),pattern=pattern.slice(matched[0].length)):(result.push(pattern.charAt(0)),pattern=pattern.slice(1));return result.join("")};$.date.format.patternParts=/^\b(yy(yy)?|M(M(M(M)?)?)?|d(d)?|EEE(E)?|a|H(H)?|h(h)?|m(m)?|s(s)?|S)\b/;$.date.format.monthNames=["January","February","March","April","May","June","July","August","September","October","November","December"];$.date.format.dayNames=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];$.date.format.patternValues={yy:function(date){return $.toFixedWidth(date.getFullYear(),2)},yyyy:function(date){return date.getFullYear().toString()},MMMM:function(date){return $.date.format.monthNames[date.getMonth()]},MMM:function(date){return $.date.format.monthNames[date.getMonth()].substr(0,3)},MM:function(date){return $.toFixedWidth(date.getMonth()+1,2)},M:function(date){return date.getMonth()+1},dd:function(date){return $.toFixedWidth(date.getDate(),2)},d:function(date){return date.getDate()},EEEE:function(date){return $.date.format.dayNames[date.getDay()]},EEE:function(date){return $.date.format.dayNames[date.getDay()].substr(0,3)},HH:function(date){return $.toFixedWidth(date.getHours(),2)},H:function(date){return date.getHours()},hh:function(date){var hours=date.getHours();return $.toFixedWidth(hours>12?hours-12:hours,2)},h:function(date){return date.getHours()%12},mm:function(date){return $.toFixedWidth(date.getMinutes(),2)},m:function(date){return date.getMinutes()},ss:function(date){return $.toFixedWidth(date.getSeconds(),2)},s:function(date){return date.getSeconds()},S:function(date){return $.toFixedWidth(date.getMilliseconds(),3)},a:function(date){return date.getHours()<12?"AM":"PM"}}})(jQuery)